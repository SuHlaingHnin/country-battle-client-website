window.__require=function t(e,n,a){function o(c,s){if(!n[c]){if(!e[c]){var r=c.split("/");if(r=r[r.length-1],!e[r]){var l="function"==typeof __require&&__require;if(!s&&l)return l(r,!0);if(i)return i(r,!0);throw new Error("Cannot find module '"+c+"'")}c=r}var _=n[c]={exports:{}};e[c][0].call(_.exports,function(t){return o(e[c][1][t]||t)},_,_.exports,t,e,n,a)}return n[c].exports}for(var i="function"==typeof __require&&__require,c=0;c<a.length;c++)o(a[c]);return o}({Bullet:[function(t,e){"use strict";cc._RF.push(e,"fa9dblgGkVOHpM2IXy6xh7m","Bullet"),cc.Class({extends:cc.Component,properties:{bulletLastPosition:cc.v3},rotate:function(){var t=cc.v2(this.node.position.x-this.bulletLastPosition.x,this.node.position.y-this.bulletLastPosition.y),e=180*Math.atan2(t.x,t.y)/Math.PI;this.node.rotation=e,this.bulletLastPosition=this.node.position},start:function(){this.bulletLastPosition=this.node.position},update:function(){this.node.getComponent("Bullet").rotate()}}),cc._RF.pop()},{}],Camp:[function(t,e,n){"use strict";cc._RF.push(e,"ef0cbjyoyhOb4+3wmAhjt5x","Camp"),n.__esModule=!0,n.default=void 0;var a=function(){var t;return{getInstance:function(){var e;return t||(e=[{id:0,name:"\u5c08\u5236\u9663\u71df",hp:0,status:-1},{id:1,name:"\u6c11\u4e3b\u9663\u71df",hp:0,status:-1}],t={getHP:function(t){return e[t].hp},setHP:function(t,n){e[t].hp=n},getName:function(t){return e[t].name},getCamp:function(t){return e[t]},resetWinLoss:function(){for(var t=0;t<e.length;t++)e[t].status=-1},getHPBYPercentage:function(t){var n=0,a=0;if(n=e[t].hp,0==t){if(n>CONST_DATA.ACAMP_LIGHT_HP){var o=n-CONST_DATA.ACAMP_LIGHT_HP;n=CONST_DATA.ACAMP_LIGHT_HP,a=o*CONST_DATA.ACAMP_EXCESS_TEXT_MULTIPLICAND}a+=n*CONST_DATA.ACAMP_TEXT_MULTIPLICAND}else a=n*CONST_DATA.DCAMP_TEXT_MULTIPLICAND;return Math.floor(a)}}),t}}}().getInstance();n.default=a,e.exports=n.default,cc._RF.pop()},{}],Client:[function(t,e){"use strict";var n;cc._RF.push(e,"ed0c2AhNJxM46p1Jl7vLh6H","Client");var a,o,i,c,s,r=new(t("./MapAssignLayout.js")),l=new(t("./LabelController.js")),_=new(t("./MainScreenLayout.js")),h=new(t("./UiController.js")),T=new(t("./StartMenu.js")),C=t("./models/area.js"),u=(t("./models/Camp.js"),t("./models/Player.js")),A=[],d=0,g=!0,N=!1,p=[];cc.Class(((n={extends:cc.Component,properties:{areaButtonList:[],areaLabelList:[],bulletPrefab:cc.Prefab,supplyEffectPrefab:cc.Prefab},ctor:function(){},getPostionInOtherNode:function(t,e){if(null==e.parent)return null;var n=e.parent.convertToWorldSpaceAR(e.position);return t.convertToNodeSpaceAR(n)},setSprite:function(t,e){cc.loader.loadRes(t,cc.SpriteFrame,function(n,a){n?console.log("Error in Loading Sprite @"+t):e.spriteFrame=a})},generateRandomPosY:function(){var t=[],e=-300;for(t.push(e);e<300;)e+=40,t.push(e);return t},getRandomPosY:function(){var t=Math.round(Math.random()*d+1);return A[t]},saveAreaData:function(t){if(null!==t){C.area=t.area_id,u.standingAreaID=t.area_id,r.loadArea();for(var e=0;e<t.area_list.length;e++)C.setHP(e,t.area_list[e].hp);_.updateHP(t.area_list),_.playerCount(t.player_count),t.is_war_time&&(N=!0,_.startWar())}},saveChatMessage:function(t){i.isChecked&&l.showLabel(t),setInterval(function(){l.saveChatMessage(t)},0),console.log("Save Chat Message")},saveChatHistory:function(t){l.deleteAllChatMessages();for(var e=0;e<t.length;e++)l.saveChatMessage(t[e]);console.log("Save Chat History")},showBattleHistory:function(t){_.showBattleRecordsHistory();var e=(p=t).length,n=setInterval(function(){p.length>0?(console.log("Length : "+p.length),_.showEachMessage(p.pop())):(console.log("Finish"),_.finishBattleRecordsHistory(e),clearInterval(n))},0)},sendChatMessage:function(t){var e={type:"chat-message",message:{content:t,posY:this.getRandomPosY(),flag:C.area.chat_flag,playerName:u.nickname,areaName:C.area.name}};a.send(JSON.stringify(e))},onClickSend:function(){if(""!=this.inputbox.string&&g){g=!1,this.sendChatMessage(this.inputbox.string),console.log(u.noOfBullets+"............"+CONST_DATA.MAX_BULLET),N&&u.noOfBullets<CONST_DATA.MAX_BULLET&&(u.noOfBullets++,_.updateBullet());var t=3;this.sendButton.schedule(function(){0==t?(o.typingCD.string="",g=!0):(o.typingCD.string="CD : "+t,t--)},1,3,0)}},sendAttackMessage:function(t,e){var n={type:"attack",message:{start_area_id:t,end_area_id:e}};a.send(JSON.stringify(n))},sendSupplyMessage:function(t,e){var n={type:"supply",message:{start_area_id:t,end_area_id:e}};a.send(JSON.stringify(n))},startWar:function(){this.typingCD.string="",N=!0,_.startWar(),console.log("start war....")},endWar:function(t){_.endWar(t.area_list)},initConnection:function(){a.onopen=function(){1===a.readyState?a.send(JSON.stringify({type:"client"})):console.log("not ready"),console.log("Connection Open...")},a.onmessage=function(t){var e=JSON.parse(t.data);switch(e.type){case"random_area":o.saveAreaData(e.message);break;case"chat-message":o.saveChatMessage(e.message);break;case"chat-history":o.saveChatHistory(e.message);break;case"attack":o.processAttack(e.message);break;case"supply":o.processSupply(e.message);break;case"start_war":o.startWar();break;case"end_war":_.endWar(e.message);break;case"battle-records-history":o.showBattleHistory(e.message);break;case"announcement":T.showAnnouncement(e.message);break;case"administrator-speak":_.showAdministratorSpeak(e.message);break;case"update-player-count":_.playerCount(e.message);break;case"a-avatar":case"d-avatar":_.showALeaderAvatar(e)}},a.onerror=function(){console.log("Send Text fired an error")},a.onclose=function(){console.log("WebSocket instance closed.")}},onClickBtn:function(t){c=t.string,console.log(c);for(var e=C.getAreaIDByName(c),n=0;n<this.areaButtonList.length;n++)this.setSprite(SPRITE.ICN_AREA,this.areaButtonList[n]);this.setSprite(SPRITE.ICN_AREA_TARGET,this.areaButtonList[e]),u.attackAreaID=C.getAreaIDByName(c),u.supplyAreaID=C.getAreaIDByName(c),0==C.getHPByNumber(u.attackAreaID)&&(this.areadeathSound.play(),showingInstasntMessageCounter=0,this.instant_Panel.active=!0,this.instant_Message.string=CONST_STRING.AREA_KILLED),_.changeHPColor(e),this.changeLabelColor(e)}}).getPostionInOtherNode=function(t,e){if(null==e.parent)return null;var n=e.parent.convertToWorldSpaceAR(e.position);return t.convertToNodeSpaceAR(n)},n.setSprite=function(t,e){cc.loader.loadRes(t,cc.SpriteFrame,function(t,n){t||(e.spriteFrame=n)})},n.attack=function(t,e){var n=this.areaButtonList[t].node,a=this.areaButtonList[e].node;if(h.checkMainScreen()){var o=this.getPostionInOtherNode(this.canvas,n),i=this.getPostionInOtherNode(this.canvas,a),c=(o.x+i.x)/2,s=Math.abs(o.y-i.y),r=[cc.v2(o.x,o.y),cc.v2(c,s),cc.v2(i.x,i.y)],l=cc.bezierTo(1.5,r),_=this.getBullet();_.parent=this.canvas,_.position=this.getPostionInOtherNode(this.canvas,n),_.addComponent("Bullet"),_.active=!0,_.runAction(cc.sequence(l,cc.callFunc(this.afterAttackOrSupply,this))),this.attack_Sound.play()}else console.log("MS--------"+h.checkMainScreen())},n.supply=function(t,e){var n=this.areaButtonList[t].node,a=this.areaButtonList[e].node;if(h.checkMainScreen()){var o=this.getPostionInOtherNode(this.canvas,n),i=this.getPostionInOtherNode(this.canvas,a),c=(o.x+i.x)/2,s=Math.abs(o.y-i.y),r=[cc.v2(o.x,o.y),cc.v2(c,s),cc.v2(i.x,i.y)],l=cc.bezierTo(1.5,r),_=cc.instantiate(this.supplyEffectPrefab);_.parent=this.canvas,_.position=this.getPostionInOtherNode(this.canvas,n),_.scaleX=.1,_.scaleY=.1,_.active=!0,_.runAction(cc.sequence(l,cc.callFunc(this.afterAttackOrSupply,this)))}else console.log("MS--------"+h.checkMainScreen())},n.processAttack=function(t){o.attack(t.start_area_id,t.end_area_id),_.updateHP(t.area_list)},n.processSupply=function(t){o.supply(t.start_area_id,t.end_area_id),_.updateHP(t.area_list)},n.getRandomInt=function(t,e){return t=Math.ceil(t),e=Math.floor(e),Math.floor(Math.random()*(e-t))+t},n.afterAttackOrSupply=function(t){t.destroy()},n.changeLabelColor=function(t){this.resetLabelColor(),this.areaLabelList[t].node.color=cc.Color.BLACK},n.resetLabelColor=function(){for(var t=0;t<this.areaLabelList.length;t++)this.areaLabelList[t].node.color=cc.Color.WHITE},n.onClickAttackBtn=function(){if(void 0!==u.attackAreaID)return N?void(C.getHPByNumber(u.attackAreaID)>0?u.noOfBullets>0?(this.attack(C.area.id,u.attackAreaID),u.noOfBullets=u.noOfBullets-1,this.sendAttackMessage(C.area.id,u.attackAreaID)):(this.instant_Panel.active=!0,this.instant_Message.string=CONST_STRING.NO_BULLETS):0==C.getHPByNumber(u.attackAreaID)&&(showingInstasntMessageCounter=0,this.instant_Panel.active=!0,this.instant_Message.string=CONST_STRING.AREA_+c+CONST_STRING.KILLED)):(this.instant_Panel.active=!0,void(this.instant_Message.string=CONST_STRING.UNABLE_ATTACK_REPLENISH))},n.onClickSupplyBtn=function(){if(void 0!==u.supplyAreaID)return N?void(u.noOfBullets>0&&(u.supplyAreaID<4&&C.getHPByNumber(u.supplyAreaID)<CONST_DATA.A_DARK_HP&&(this.supply(C.area.id,u.supplyAreaID),u.noOfBullets=u.noOfBullets-1,this.sendSupplyMessage(C.area.id,u.supplyAreaID)),u.supplyAreaID>=4&&C.getHPByNumber(u.supplyAreaID)<CONST_DATA.D_DARK_HP&&(this.supply(C.area.id,u.supplyAreaID),u.noOfBullets=u.noOfBullets-1,this.sendSupplyMessage(C.area.id,u.supplyAreaID)))):(this.instant_Panel.active=!0,void(this.instant_Message.string=CONST_STRING.UNABLE_ATTACK_REPLENISH))},n.createBulletPool=function(t){s=new cc.NodePool;for(var e=0;e<t;e++){var n=cc.instantiate(o.bulletPrefab);n.name=n.name+e,n.active=!1,s.put(n)}},n.getBullet=function(){return s.size()>0?s.get():cc.instantiate(o.bulletPrefab)},n.init=function(){var t=this;A=this.generateRandomPosY(),d=A.length,this.frmMain=cc.find(COMPONENT_PATH.FRM_MAIN_UI),this.inputboxWidget=cc.find(COMPONENT_PATH.INPUT_BOX).getComponent(cc.Widget),this.inputbox=cc.find(COMPONENT_PATH.INPUT_BOX).getComponent(cc.EditBox),this.typingCD=cc.find(COMPONENT_PATH.TYPING_CD).getComponent(cc.Label),this.sendButton=cc.find(COMPONENT_PATH.SEND_BUTTON).getComponent(cc.Button),this.sendButton.node.on("touchend",this.onClickSend,this),this.sendSound=cc.find(COMPONENT_PATH.SEND_SOUND).getComponent(cc.AudioSource);var e=(i=cc.find(COMPONENT_PATH.TOGGLE_SWITCH).getComponent(cc.Toggle)).node.getChildByName("Background").getComponent(cc.Sprite),n=i.node.getChildByName("checkmark1"),a=i.node.getChildByName("checkmark2");i.node.on("toggle",function(){console.log("Toggle Click : "+i.isChecked),i.isChecked?(n.active=!1,a.active=!0,this.setSprite(SPRITE.BACKGROUND_WHITE,e)):(n.active=!0,a.active=!1,this.setSprite(SPRITE.BACKGROUND_BLACK,e))},this),this.ms_BeijingButton=cc.find(COMPONENT_PATH.MS_BEIJING_BUTTON).getComponent(cc.Button);var o=cc.find(COMPONENT_PATH.MS_BEIJING_BUTTON).getChildByName("area_name").getComponent(cc.RichText);this.ms_BeijingButton.node.on("touchstart",function(){t.onClickBtn(o)},this),this.ms_ShanghaiButton=cc.find(COMPONENT_PATH.MS_SHANGHAI_BUTTON).getComponent(cc.Button);var c=cc.find(COMPONENT_PATH.MS_SHANGHAI_BUTTON).getChildByName("area_name").getComponent(cc.RichText);this.ms_ShanghaiButton.node.on("touchstart",function(){t.onClickBtn(c)},this),this.ms_GaungdongButton=cc.find(COMPONENT_PATH.MS_GAUNGDONG_BUTTON).getComponent(cc.Button);var s=cc.find(COMPONENT_PATH.MS_GAUNGDONG_BUTTON).getChildByName("area_name").getComponent(cc.RichText);this.ms_GaungdongButton.node.on("touchstart",function(){t.onClickBtn(s)},this),this.ms_ShenzhenButton=cc.find(COMPONENT_PATH.MS_SHENZHEN_BUTTON).getComponent(cc.Button);var r=cc.find(COMPONENT_PATH.MS_SHENZHEN_BUTTON).getChildByName("area_name").getComponent(cc.RichText);this.ms_ShenzhenButton.node.on("touchstart",function(){t.onClickBtn(r)},this),this.ms_HongkongButton=cc.find(COMPONENT_PATH.MS_HONGKONG_BUTTON).getComponent(cc.Button);var l=cc.find(COMPONENT_PATH.MS_HONGKONG_BUTTON).getChildByName("area_name").getComponent(cc.RichText);this.ms_HongkongButton.node.on("touchstart",function(){t.onClickBtn(l)},this),this.ms_TaiwanButton=cc.find(COMPONENT_PATH.MS_TAIWAN_BUTTON).getComponent(cc.Button);var _=cc.find(COMPONENT_PATH.MS_TAIWAN_BUTTON).getChildByName("area_name").getComponent(cc.RichText);this.ms_TaiwanButton.node.on("touchstart",function(){t.onClickBtn(_)},this),this.attack_Sound=cc.find(COMPONENT_PATH.ATTACKFIRE_SOUND).getComponent(cc.AudioSource),this.areaLabelList.push(o),this.areaLabelList.push(c),this.areaLabelList.push(s),this.areaLabelList.push(r),this.areaLabelList.push(l),this.areaLabelList.push(_),this.attackButton=cc.find(COMPONENT_PATH.ATTACK_BUTTON).getComponent(cc.Button),this.attackButton.node.on("touchstart",this.onClickAttackBtn,this),this.supplyButton=cc.find(COMPONENT_PATH.SUPPLY_BUTTON).getComponent(cc.Button),this.supplyButton.node.on("touchstart",this.onClickSupplyBtn,this),this.areadeathSound=cc.find(COMPONENT_PATH.AREADEATH_SOUND).getComponent(cc.AudioSource),this.canvas=cc.find("Canvas"),this.ms_BeijingSprite=cc.find(COMPONENT_PATH.MS_BEIJING_BUTTON).getComponent(cc.Sprite),this.ms_ShanghaiSprite=cc.find(COMPONENT_PATH.MS_SHANGHAI_BUTTON).getComponent(cc.Sprite),this.ms_GaungdongSprite=cc.find(COMPONENT_PATH.MS_GAUNGDONG_BUTTON).getComponent(cc.Sprite),this.ms_ShenzhenSprite=cc.find(COMPONENT_PATH.MS_SHENZHEN_BUTTON).getComponent(cc.Sprite),this.ms_HongkongSprite=cc.find(COMPONENT_PATH.MS_HONGKONG_BUTTON).getComponent(cc.Sprite),this.ms_TaiwanSprite=cc.find(COMPONENT_PATH.MS_TAIWAN_BUTTON).getComponent(cc.Sprite),this.areaButtonList.push(this.ms_BeijingSprite),this.areaButtonList.push(this.ms_ShanghaiSprite),this.areaButtonList.push(this.ms_GaungdongSprite),this.areaButtonList.push(this.ms_ShenzhenSprite),this.areaButtonList.push(this.ms_HongkongSprite),this.areaButtonList.push(this.ms_TaiwanSprite),this.instant_Message=cc.find(COMPONENT_PATH.INSTANT_MESSAGE).getComponent(cc.RichText),this.instant_Panel=cc.find(COMPONENT_PATH.INSTANT_PANEL),this.MainScreen=cc.find(COMPONENT_PATH.MAIN_SCREEN_WINDOW)},n.onLoad=function(){o=this,window.WebSocket=window.WebSocket||window.MozWebSocket,IP_ADDRESS,a=new WebSocket("ws://lydia-country-battle-server.herokuapp.com/"),this.initConnection(),this.init(),this.createBulletPool(50)},n.start=function(){},n.update=function(){},n)),cc._RF.pop()},{"./LabelController.js":"LabelController","./MainScreenLayout.js":"MainScreenLayout","./MapAssignLayout.js":"MapAssignLayout","./StartMenu.js":"StartMenu","./UiController.js":"UiController","./models/Camp.js":"Camp","./models/Player.js":"Player","./models/area.js":"area"}],GameManager:[function(t,e){"use strict";var n;cc._RF.push(e,"620fa3XMr5OSobvy/jIfhUt","GameManager"),t("./models/Player.js"),t("./models/area.js"),t("./MainScreenLayout.js"),cc.Class({extends:cc.Component,isWarTime:!1,properties:{},ctor:function(){},assignComponents:function(){this.instant_Panel=cc.find(COMPONENT_PATH.INSTANT_PANEL)},getPostionInOtherNode:function(t,e){if(null==e.parent)return null;var n=e.parent.convertToWorldSpaceAR(e.position);return t.convertToNodeSpaceAR(n)},setSprite:function(t,e){cc.loader.loadRes(t,cc.SpriteFrame,function(t,n){t||(e.spriteFrame=n)})},attack:function(t,e){var n=this.areaButtonList[t].node,a=this.areaButtonList[e].node,o=this.getPostionInOtherNode(this.canvas,n),i=this.getPostionInOtherNode(this.canvas,a),c=(o.x+i.x)/2,s=Math.abs(o.y-i.y),r=[cc.v2(o.x,o.y),cc.v2(c,s),cc.v2(i.x,i.y)],l=cc.bezierTo(1.5,r),_=this.getBullet();_.parent=this.canvas,_.position=this.getPostionInOtherNode(this.canvas,n),_.addComponent("Bullet"),_.active=!0,_.runAction(cc.sequence(l,cc.callFunc(this.afterAttackOrSupply,this)))},supply:function(t,e){var n=this.areaButtonList[t].node,a=this.areaButtonList[e].node,o=this.getPostionInOtherNode(this.canvas,n),i=this.getPostionInOtherNode(this.canvas,a),c=(o.x+i.x)/2,s=Math.abs(o.y-i.y),r=[cc.v2(o.x,o.y),cc.v2(c,s),cc.v2(i.x,i.y)],l=cc.bezierTo(1.5,r),_=cc.instantiate(this.supplyEffectPrefab);_.parent=this.canvas,_.position=this.getPostionInOtherNode(this.canvas,n),_.scaleX=.1,_.scaleY=.1,_.active=!0,_.runAction(cc.sequence(l,cc.callFunc(this.afterAttackOrSupply,this)))},getRandomInt:function(t,e){return t=Math.ceil(t),e=Math.floor(e),Math.floor(Math.random()*(e-t))+t},afterAttackOrSupply:function(t){t.destroy()},changeLabelColor:function(t){this.resetLabelColor(),this.areaLabelList[t].node.color=cc.Color.BLACK},resetLabelColor:function(){for(var t=0;t<this.areaLabelList.length;t++)this.areaLabelList[t].node.color=cc.Color.WHITE},onLoad:function(){n=this,this.assignComponents()},start:function(){this.schedule(function(){IS_WAR_TIME&&(n.isWarTime=!0)},1)},update:function(){}}),cc._RF.pop()},{"./MainScreenLayout.js":"MainScreenLayout","./models/Player.js":"Player","./models/area.js":"area"}],LabelController:[function(t,e){"use strict";var n,a;cc._RF.push(e,"bc81f3wD2dLRZzm1DJ4rjXd","LabelController"),t("./models/Player.js");var o=[];cc.Class({extends:cc.Component,properties:{labelPrefab:cc.Prefab,labelNode:cc.Node,chatRecordPrefab:cc.Prefab,chatRecordNode:cc.Node},ctor:function(){},createLabelPool:function(t){n=new cc.NodePool;for(var e=0;e<t;e++)cc.loader.loadRes("prefabs/ChatContainer",function(t,e){var a=cc.instantiate(e);n.put(a)})},getLabel:function(){return n.size()>0?n.get():cc.instantiate(a.labelPrefab)},showLabel:function(t){var e,n;(e=a.getLabel()).y=t.posY,e.getChildByName("message").getComponent(cc.Label).string=t.content,n=e.getChildByName("flag").getComponent(cc.Sprite),a.setSprite(t.flag,n),e.parent=a.node},setSprite:function(t,e){cc.loader.loadRes(t,cc.SpriteFrame,function(t,n){t||(e.spriteFrame=n)})},saveChatMessage:function(t){var e=cc.instantiate(a.chatRecordPrefab);if(this.chat_content=cc.find(COMPONENT_PATH.CHATROOM_CONTENT),null!=e){e.scaleX=1,e.scaleY=-1;var n=e.getChildByName("flag").getComponent(cc.Sprite),i=e.getChildByName("label").getComponent(cc.Label);a.setSprite(t.flag,n),i.string=t.playerName+" : "+t.content,e.parent=a.chatRecordNode,o.push(e),e.x=0;var c=0;this.chat_content.height=25;for(var s=o.length-1;s>=0;s--)o[s].y=-c,this.chat_content.height+=25,c+=25}else console.log("Chat Record... NULL")},deleteAllChatMessages:function(){a.chatRecordNode.removeAllChildren(),o=[]},onLoad:function(){(a=this).createLabelPool(20)},start:function(){},update:function(){}}),cc._RF.pop()},{"./models/Player.js":"Player"}],MainScreenLayout:[function(t,e){"use strict";cc._RF.push(e,"ce74at5YARIwp33OSLx2dhu","MainScreenLayout");var n,a=t("./models/area.js"),o=t("./models/Camp.js"),i=t("./models/Player.js"),c=[],s=[],r=[],l=[],_=[],h=!1,T=0,C="",u="";cc.Class({extends:cc.Component,properties:{},ctor:function(){n=this},assignComponents:function(){this.timerLabel=cc.find(COMPONENT_PATH.MS_TIMER_LABEL).getComponent(cc.Label),this.bulletLabel=cc.find(COMPONENT_PATH.BULLET_LABEL).getComponent(cc.Label),this.bulletLabel.string=i.noOfBullets,this.twAreaHP=cc.find(COMPONENT_PATH.MS_TW_AREAHP);var t=this.twAreaHP.getChildByName("hp").getComponent(cc.Label),e=this.twAreaHP.getChildByName("light_bar").getComponent(cc.Sprite),n=this.twAreaHP.getChildByName("dark_bar").getComponent(cc.Sprite);this.bjAreaHP=cc.find(COMPONENT_PATH.MS_BJ_AREAHP);var a=this.bjAreaHP.getChildByName("hp").getComponent(cc.Label),h=this.bjAreaHP.getChildByName("light_bar").getComponent(cc.Sprite),T=this.bjAreaHP.getChildByName("dark_bar").getComponent(cc.Sprite);this.shAreaHP=cc.find(COMPONENT_PATH.MS_SH_AREAHP);var C=this.shAreaHP.getChildByName("hp").getComponent(cc.Label),u=this.shAreaHP.getChildByName("light_bar").getComponent(cc.Sprite),A=this.shAreaHP.getChildByName("dark_bar").getComponent(cc.Sprite);this.gdAreaHP=cc.find(COMPONENT_PATH.MS_GD_AREAHP);var d=this.gdAreaHP.getChildByName("hp").getComponent(cc.Label),g=this.gdAreaHP.getChildByName("light_bar").getComponent(cc.Sprite),N=this.gdAreaHP.getChildByName("dark_bar").getComponent(cc.Sprite);this.szAreaHP=cc.find(COMPONENT_PATH.MS_SZ_AREAHP);var p=this.szAreaHP.getChildByName("hp").getComponent(cc.Label),m=this.szAreaHP.getChildByName("light_bar").getComponent(cc.Sprite),f=this.szAreaHP.getChildByName("dark_bar").getComponent(cc.Sprite);this.hkAreaHP=cc.find(COMPONENT_PATH.MS_HK_AREAHP);var P=this.hkAreaHP.getChildByName("hp").getComponent(cc.Label),M=this.hkAreaHP.getChildByName("light_bar").getComponent(cc.Sprite),S=this.hkAreaHP.getChildByName("dark_bar").getComponent(cc.Sprite);this.authoritarianHP=cc.find(COMPONENT_PATH.AUTHORITARIAN_HP),null===this.authoritarianCampHP&&console.log("Autho Camp null");var O=this.authoritarianHP.getChildByName("Icn_CampHP_Line01").getComponent(cc.Sprite),B=this.authoritarianHP.getChildByName("Icn_CampHP_Line02").getComponent(cc.Sprite);this.aHPText=this.authoritarianHP.getChildByName("HP").getComponent(cc.Label),this.aAvatar=this.authoritarianHP.getChildByName("Icn_Picture_01").getComponent(cc.Sprite),this.democraticHP=cc.find(COMPONENT_PATH.DEMOCRATIC_HP),null===this.democraticHP&&console.log("demo Camp null");var I=this.democraticHP.getChildByName("Icn_CampHP_Line01").getComponent(cc.Sprite),E=this.democraticHP.getChildByName("Icn_CampHP_Line02").getComponent(cc.Sprite);this.dHPText=this.democraticHP.getChildByName("HP").getComponent(cc.Label),this.dAvatar=this.democraticHP.getChildByName("Icn_Picture_02").getComponent(cc.Sprite),this.aHPText.string=o.getHPBYPercentage(0)+"%",this.dHPText.string=o.getHPBYPercentage(1)+"%",this.playercount_Label=cc.find(COMPONENT_PATH.PLAYER_COUNT).getComponent(cc.Label),l.push(O),l.push(I),_.push(B),_.push(E),c.push(a),c.push(C),c.push(d),c.push(p),c.push(P),c.push(t),s.push(h),s.push(u),s.push(g),s.push(m),s.push(M),s.push(e),r.push(T),r.push(A),r.push(N),r.push(f),r.push(S),r.push(n),this.ms_BattleRecordLabel=cc.find(COMPONENT_PATH.MS_BATTLE_RECORD_LABEL).getComponent(cc.Label),this.battleRecordLabel=cc.find(COMPONENT_PATH.BATTLE_RECORD_LABEL).getComponent(cc.RichText),this.administratorPanel=cc.find(COMPONENT_PATH.ADMINISTRATOR_PANEL),this.administratorPanel.active=!1,this.administratorLabel=this.administratorPanel.getChildByName("text").getComponent(cc.RichText),this.administratorSavedLabel=cc.find(COMPONENT_PATH.ADMINISTRATOR_SAVED_LABEL).getComponent(cc.Label),this.instant_Message=cc.find(COMPONENT_PATH.INSTANT_MESSAGE).getComponent(cc.RichText),this.instant_Panel=cc.find(COMPONENT_PATH.INSTANT_PANEL),this.content=cc.find(COMPONENT_PATH.MS_BATTLE_CONTENT),this.battleContent=cc.find(COMPONENT_PATH.BATTLE_CONTENT),this.administratorContent=cc.find(COMPONENT_PATH.ADMINISTRATOR_CONTENT)},texLoaded:function(t){if(t instanceof cc.Texture2D){cc.log("Remote texture loaded");var e=new cc.Sprite(t);e.x=cc.winSize.width/2,e.y=cc.winSize.height/2,this.aAvatar.spriteFrame=e}else cc.log("Fail to load remote texture")},showALeaderAvatar:function(t){var e=t.message,a="http://"+IP_ADDRESS+"/uploads/"+e;"a-avatar"==t.type?n.changeTexture(a,n.aAvatar):"d-avatar"==t.type&&n.changeTexture(a,n.dAvatar),console.log("URL : "+a),console.log("Type : "+t.type)},showALeaderAvatarTest:function(t){var e,n=t.message;IP_ADDRESS,e=cc.path.join("outside_resources",n),console.log("File Path : "+e)},changeTexture:function(t,e){cc.loader.load(t,function(t,n){console.log("Tex : "+n),cc.log("Should load a texture from RESTful API by specify the type: "+(n instanceof cc.Texture2D));var a=e.node.height,o=e.node.width;e.spriteFrame=new cc.SpriteFrame(n),e.node.height=a,e.node.width=o})},setSprite:function(t,e){cc.loader.loadRes(t,cc.SpriteFrame,function(t,n){t||(e.spriteFrame=n)})},startWar:function(){IS_WAR_TIME=!0,i.noOfBullets=CONST_DATA.INIT_BULLET,this.updateBullet(),this.instant_Panel.active=!0,this.instant_Message.string=CONST_STRING.BEGINING_OF_WAR},showTime:function(){setInterval(function(){var t=new Date,e=t.getHours(),a=t.getMinutes(),o=t.getSeconds();e<10&&(e="0"+e),a<10&&(a="0"+a),o<10&&(o="0"+o),n.timerLabel.string=e+":"+a+":"+o},1e3)},endWar:function(t){IS_WAR_TIME=!1,this.showBattleRecords(t),this.resetHP(t.area_list),this.resetHPColor(),i.noOfBullets=CONST_DATA.RESET_BULLET,this.updateBullet(),this.instant_Panel.active=!0,this.instant_Message.string=CONST_STRING.END_OF_WAR},showBattleRecords:function(t){C+="\n\n",u+="<b>",u+=t.date+"\n",C+=t.date+"\n";for(var e=0;e<t.battle_records.length;e++)0!=e&&e%2==0&&(u+="\n",C+="\n"),u+=t.battle_records[e],C+=t.battle_records[e],e%2==0&&(u+="  ",C+="  ");u+="\n\n",u+="</b>",n.battleRecordLabel.string+=u,n.ms_BattleRecordLabel.string+=C,this.battleContent.height=n.battleRecordLabel.node.height,this.content.height+=150},showBattleRecordsHistory:function(){n.battleRecordLabel.string="",n.ms_BattleRecordLabel.string="",C="",u="",null!=this.battleContent&&null!=this.battleContent||(this.battleContent=cc.find(COMPONENT_PATH.BATTLE_CONTENT)),null!=this.content&&null!=this.content||(this.content=cc.find(COMPONENT_PATH.MS_BATTLE_CONTENT))},showEachMessage:function(t){C+="\n\n",u+="<b>",u+=t.date+"\n",C+=t.date+"\n";for(var e=0;e<t.battle_records.length;e++)0!=e&&e%2==0&&(u+="\n",C+="\n"),u+=t.battle_records[e],C+=t.battle_records[e],e%2==0&&(u+="  ",C+="  ");u+="\n\n",u+="</b>"},finishBattleRecordsHistory:function(t){console.log("--------------------------"),n.battleRecordLabel.string+=u,n.ms_BattleRecordLabel.string+=C,this.battleContent.height=n.battleRecordLabel.node.height,this.content.height=150*t},playerCount:function(t){void 0===this.playercount_Label&&(this.playercount_Label=cc.find(COMPONENT_PATH.PLAYER_COUNT).getComponent(cc.Label)),this.playercount_Label.string=t},resetHP:function(t){a.updateHP(t);for(var e=0,n=0,i=a.getHPList(),s=0;s<i.length;s++)s<4?e+=i[s]:n+=i[s];o.setHP(0,e),o.setHP(1,n),this.calculateFillRange();for(var r=0;r<t.length;r++)c[r].string=a.getHPBYPercentage(r)+"%";this.aHPText.string=o.getHPBYPercentage(0)+"%",this.dHPText.string=o.getHPBYPercentage(1)+"%"},updateHP:function(t){this.assignComponents(),a.updateHP(t),this.calculateFillRange();for(var e=0;e<t.length;e++)c[e].string=a.getHPBYPercentage(e)+"%";this.aHPText.string=o.getHPBYPercentage(0)+"%",this.dHPText.string=o.getHPBYPercentage(1)+"%"},calculateFillRange:function(){for(var t=0,e=0,n=0;n<6;n++){var i=a.getHPByNumber(n);n<4?(i>=0&&i<=CONST_DATA.A_LIGHT_HP?(s[n].fillRange=i*CONST_DATA.A_HP_IMAGE_MULTIPLICAND,r[n].fillRange=0):i>=CONST_DATA.A_LIGHT_HP+1&&i<=CONST_DATA.A_DARK_HP&&(r[n].fillRange=(i-CONST_DATA.A_LIGHT_HP)*CONST_DATA.A_EXCESS_HP_IMAGE_MULTIPLICAND,s[n].fillRange=1),t+=i):(i>=0&&i<=CONST_DATA.D_LIGHT_HP?(s[n].fillRange=i*CONST_DATA.D_HP_IMAGE_MULTIPLICAND,r[n].fillRange=0):i>=CONST_DATA.D_LIGHT_HP+1&&i<=CONST_DATA.D_DARK_HP&&(r[n].fillRange=(i-CONST_DATA.D_LIGHT_HP)*CONST_DATA.D_HP_IMAGE_MULTIPLICAND,s[n].fillRange=1),e+=i)}o.setHP(0,t),o.setHP(1,e);var c,h=o.getHP(0),T=o.getHP(1);h>=0&&h<=CONST_DATA.ACAMP_LIGHT_HP?(c=h*CONST_DATA.ACAMP_IMAGE_MULTIPLICAND,l[0].fillRange=c,_[0].fillRange=0):h>=CONST_DATA.ACAMP_LIGHT_HP+1&&h<=CONST_DATA.ACAMP_DARK_HP&&(c=(h-CONST_DATA.ACAMP_LIGHT_HP)*CONST_DATA.ACAMP_EXCESS_IMAGE_MULTIPLICAND,_[0].fillRange=c,l[0].fillRange=1),T>=0&&T<=CONST_DATA.DCAMP_LIGHT_HP?(l[1].fillRange=T*CONST_DATA.DCAMP_IMAGE_MULTIPLICAND,_[1].fillRange=0):T>=CONST_DATA.DCAMP_LIGHT_HP+1&&T<=CONST_DATA.DCAMP_DARK_HP&&(_[1].fillRange=(T-CONST_DATA.DCAMP_LIGHT_HP)*CONST_DATA.DCAMP_IMAGE_MULTIPLICAND,l[1].fillRange=1)},updateBullet:function(){this.bulletLabel.string=i.noOfBullets},resetHPColor:function(){for(var t=0;t<c.length;t++)c[t].node.color=cc.Color.WHITE},changeHPColor:function(t){this.resetHPColor(),c[t].node.color=cc.Color.BLACK},showAdministratorSpeak:function(t){h=!0,T=0,this.administratorLabel.string=t,console.log(this.administratorContent.height),this.administratorContent.height+=25,console.log(this.administratorContent.height),this.administratorSavedLabel.string+=t+"\n",this.administratorPanel.active=!0},hideAdministratorSpeak:function(){h=!1,this.administratorLabel.string="",this.administratorPanel.active=!1},showAdministrator:function(){},onLoad:function(){n=this,this.assignComponents()},start:function(){this.showTime()},update:function(t){h&&T<2?T+=t:(T=0,this.hideAdministratorSpeak())}}),cc._RF.pop()},{"./models/Camp.js":"Camp","./models/Player.js":"Player","./models/area.js":"area"}],MapAssignLayout:[function(t,e){"use strict";cc._RF.push(e,"d89f0/ZhFhPPJLnkj3epGRJ","MapAssignLayout");var n=t("./models/area.js");cc.Class({extends:cc.Component,properties:{},ctor:function(){},setSprite:function(t,e){cc.loader.loadRes(t,cc.SpriteFrame,function(t,n){t||(e.spriteFrame=n)})},initComponents:function(){this.areaLabel=cc.find(COMPONENT_PATH.AREA_LABEL).getComponent(cc.Label),this.campLabel=cc.find(COMPONENT_PATH.CAMP_LABEL).getComponent(cc.Label),this.areaFlagSprite=cc.find(COMPONENT_PATH.AREA_FLAG_IMG).getComponent(cc.Sprite)},initAreaData:function(){void 0!==n.area&&(this.areaLabel.string=n.area.name,this.campLabel.string=n.area.camp,this.setSprite(n.area.flag,this.areaFlagSprite))},loadArea:function(){this.initComponents(),this.initAreaData()},onLoad:function(){this.loadArea()},start:function(){}}),cc._RF.pop()},{"./models/area.js":"area"}],Player:[function(t,e,n){"use strict";cc._RF.push(e,"f6cd0TgLp9CeJqC5OdEYPc1","Player"),n.__esModule=!0,n.default=void 0;var a=function(){var t;return{getInstance:function(){var e,n,a,o,i;return t||(i=0,t={get nickname(){return e},set nickname(t){e=t},get noOfBullets(){return i},set noOfBullets(t){i=t},get standingAreaID(){return n},set standingAreaID(t){n=t},get attackAreaID(){return a},set attackAreaID(t){a=t},get supplyAreaID(){return o},set supplyAreaID(t){o=t}}),t}}}().getInstance();n.default=a,e.exports=n.default,cc._RF.pop()},{}],StartMenu:[function(t,e){"use strict";cc._RF.push(e,"3a7d6sRMAhPG4Dw8CmZ3nT8","StartMenu"),cc.Class({extends:cc.Component,properties:{},showAnnouncement:function(t){this.announcementLabel=cc.find(COMPONENT_PATH.ANNOUNCEMENT_LABEL).getComponent(cc.RichText),this.announcementLabel.string="<br>"+t+"<br>",console.log("Announcement\xa0Label\xa0Height\xa0:\xa0"+this.announcementLabel.node.height),this.startContent=cc.find(COMPONENT_PATH.START_CONTENT),this.startContent.height+=this.announcementLabel.node.height},start:function(){}}),cc._RF.pop()},{}],SupplyEffect:[function(t,e){"use strict";var n;cc._RF.push(e,"e1bb1CUulZEsreSM2CE4fXh","SupplyEffect"),cc.Class({extends:cc.Component,properties:{},start:function(){n=0},update:function(t){n<2?n+=t:(n=0,this.node.active=!1)}}),cc._RF.pop()},{}],UiController:[function(t,e){"use strict";var n,a,o;cc._RF.push(e,"0de89BAkfxC1IsHHLPCuzlx","UiController");var i,c,s=t("./models/area.js"),r=t("./models/Player.js");cc.Class({extends:cc.Component,properties:{},checkMainScreen:function(){var t=cc.find(COMPONENT_PATH.MAIN_SCREEN_WINDOW);return console.log("MS : "+t.active),t.active},closeMapWindow:function(){this.mapWindow.active=!1,this.confirmWindow.active=!0},closeMapAssignWindow:function(){this.mapAssignWindow.active=!1,this.mapWindow.active=!0},closeConfirmWindow:function(){this.confirmWindow.active=!1,this.taiwanButton.node.active=!0,this.beijingButton.node.active=!0,this.guangdongButton.node.active=!0,this.shanghaiButton.node.active=!0,this.shezhenButton.node.active=!0,this.hongkongButton.node.active=!0},closeGameMapAssignWindow:function(){this.mapAssignWindow.active=!1,this.mainScreen.active=!0},closeMainScreenWindow:function(){this.mainScreen.active=!1},closeRecordFrame:function(){this.recordFrame.active=!1,this.recordOn.node.active=!0},closeAllScrollBar:function(){this.chatScrollBar.active=!1,this.battleScrollBar.active=!1,this.administratorScrollBar.active=!1},openMapWindow:function(){this.mapWindow.active=!0},openMapAssignWindow:function(){this.mapAssignWindow.active=!0},openConfirmWindow:function(t){i=t.string,this.ml_AreaName.string=i,this.confirmWindow.active=!0,this.taiwanButton.node.active=!1,this.beijingButton.node.active=!1,this.guangdongButton.node.active=!1,this.shanghaiButton.node.active=!1,this.shezhenButton.node.active=!1,this.hongkongButton.node.active=!1},closeConfirmAndMapWindow:function(){c=s.getAreaIDByName(i),s.area=c,r.standingAreaID=c,this.mapWindow.active=!1,this.mainScreen.active=!0},openMainScreenWindow:function(){this.mainScreen.active=!0},openRecordFrame:function(){this.recordFrame.active=!0,this.recordOn.node.active=!1,this.openChatScrollBar()},openChatScrollBar:function(){this.closeAllScrollBar(),this.chatScrollBar.active=!0},openBattleScrollBar:function(){this.closeAllScrollBar(),this.battleScrollBar.active=!0},openAdministratorScrollBar:function(){this.closeAllScrollBar(),this.administratorScrollBar.active=!0},openStartMenu:function(){this.startMenu.active=!0},goStartToBattle:function(){this.startMenu.active=!1,this.battleRecord.active=!0},goStartToTeaching:function(){this.startMenu.active=!1,this.gameTeaching.active=!0},goTeachingToStart:function(){this.gameTeaching.active=!1,this.startMenu.active=!0},goTeachingToBattle:function(){this.gameTeaching.active=!1,this.battleRecord.active=!0},goBattleToStart:function(){this.battleRecord.active=!1,this.startMenu.active=!0},goBattleToTeaching:function(){this.battleRecord.active=!1,this.gameTeaching.active=!0},goStartToScreen:function(){n="startMenu",this.startMenu.active=!1,this.idScreen.active=!0},goTeachingToScreen:function(){a="gameTeaching",this.gameTeaching.active=!1,this.idScreen.active=!0},goBattleToScreen:function(){o="battleRecord",this.battleRecord.active=!1,this.idScreen.active=!0},goScreenToPervious:function(){"startMenu"==n&&(this.idScreen.active=!1,this.startMenu.active=!0,n=""),"gameTeaching"==a&&(this.idScreen.active=!1,this.gameTeaching.active=!0,a=""),"battleRecord"==o&&(this.idScreen.active=!1,this.battleRecord.active=!0,o="")},goScreenToMapAssign:function(){var t=this.nicknameBox.string;""!=t&&null!=t?(r.nickname=t,console.log("Nick Name : "+r.nickname),this.confirmWindow.active=!1,this.idScreen.active=!1,this.mapAssignWindow.active=!0):console.log("Nick Name:"+t)},closeAllWindow:function(){this.mapWindow.active=!1,this.mapAssignWindow.active=!1,this.confirmWindow.active=!1,this.mainScreen.active=!1,this.recordFrame.active=!1,this.chatScrollBar.active=!1,this.battleScrollBar.active=!1,this.administratorScrollBar.active=!1,this.startMenu.active=!1,this.gameTeaching.active=!1,this.battleRecord.active=!1,this.idScreen.active=!1},assignComponent:function(){this.choosseButton=cc.find(COMPONENT_PATH.CHOOSE_BUTTON).getComponent(cc.Button),this.choosseButton.node.on("touchend",this.closeMapAssignWindow,this),this.gamestartButton=cc.find(COMPONENT_PATH.GAME_START_BUTTON).getComponent(cc.Button),this.gamestartButton.node.on("touchend",this.closeGameMapAssignWindow,this),this.cancelButton=cc.find(COMPONENT_PATH.CANCEL_BUTTON).getComponent(cc.Button),this.cancelButton.node.on("touchend",this.closeConfirmWindow,this),this.confirmButton=cc.find(COMPONENT_PATH.CONFIRM_BUTTON).getComponent(cc.Button),this.confirmButton.node.on("touchend",this.closeConfirmAndMapWindow,this),this.taiwanButton=cc.find(COMPONENT_PATH.TAIWAN_BUTTON).getComponent(cc.Button),this.taiwanText=cc.find(COMPONENT_PATH.TAIWAN_BUTTON).getChildByName("area_name").getComponent(cc.RichText),this.taiwanButton.node.on("touchend",function(){this.openConfirmWindow(this.taiwanText)},this),this.beijingButton=cc.find(COMPONENT_PATH.BEIJING_BUTTON).getComponent(cc.Button),this.beijingText=cc.find(COMPONENT_PATH.BEIJING_BUTTON).getChildByName("area_name").getComponent(cc.RichText),this.beijingButton.node.on("touchend",function(){this.openConfirmWindow(this.beijingText)},this),this.guangdongButton=cc.find(COMPONENT_PATH.GAUNGDONG_BUTTON).getComponent(cc.Button),this.guangdongText=cc.find(COMPONENT_PATH.GAUNGDONG_BUTTON).getChildByName("area_name").getComponent(cc.RichText),this.guangdongButton.node.on("touchend",function(){this.openConfirmWindow(this.guangdongText)},this),this.shanghaiButton=cc.find(COMPONENT_PATH.SHANGHAI_BUTTON).getComponent(cc.Button),this.shanghaiText=cc.find(COMPONENT_PATH.SHANGHAI_BUTTON).getChildByName("area_name").getComponent(cc.RichText),this.shanghaiButton.node.on("touchend",function(){this.openConfirmWindow(this.shanghaiText)},this),this.shezhenButton=cc.find(COMPONENT_PATH.SHENZHEN_BUTTON).getComponent(cc.Button),this.shezhenText=cc.find(COMPONENT_PATH.SHENZHEN_BUTTON).getChildByName("area_name").getComponent(cc.RichText),this.shezhenButton.node.on("touchend",function(){this.openConfirmWindow(this.shezhenText)},this),this.hongkongButton=cc.find(COMPONENT_PATH.HONGKONG_BUTTON).getComponent(cc.Button),this.hongkongText=cc.find(COMPONENT_PATH.HONGKONG_BUTTON).getChildByName("area_name").getComponent(cc.RichText),this.hongkongButton.node.on("touchend",function(){this.openConfirmWindow(this.hongkongText)},this),this.ml_AreaName=cc.find(COMPONENT_PATH.ML_AREA_NAME).getComponent(cc.RichText),this.confirmButton=cc.find(COMPONENT_PATH.CONFIRM_BUTTON).getComponent(cc.Button),this.confirmButton.node.on("touchend",this.closeConfirmWindow,this),this.recordOff=cc.find(COMPONENT_PATH.RECORD_OFF).getComponent(cc.Button),this.recordOff.node.on("touchend",this.closeRecordFrame,this),this.recordOn=cc.find(COMPONENT_PATH.RECORD_ON).getComponent(cc.Button),this.recordOn.node.on("touchend",this.openRecordFrame,this),this.chatButton=cc.find(COMPONENT_PATH.CHAT_BUTTON).getComponent(cc.Button),this.chatButton.node.on("touchend",this.openChatScrollBar,this),this.battleButton=cc.find(COMPONENT_PATH.BATTLE_BUTTON).getComponent(cc.Button),this.battleButton.node.on("touchend",this.openBattleScrollBar,this),this.administratorButton=cc.find(COMPONENT_PATH.ADMINISTRATOR_BUTTON).getComponent(cc.Button),this.administratorButton.node.on("touchend",this.openAdministratorScrollBar,this),this.mapWindow=cc.find(COMPONENT_PATH.MAP_WINDOW),this.mapAssignWindow=cc.find(COMPONENT_PATH.MAPASSIGN_WINDOW),this.confirmWindow=cc.find(COMPONENT_PATH.CONFIRM_FRAME),this.mainScreen=cc.find(COMPONENT_PATH.MAIN_SCREEN_WINDOW),this.recordFrame=cc.find(COMPONENT_PATH.RECORD_FRAME),this.chatScrollBar=cc.find(COMPONENT_PATH.CHAT_SCROLLBAR),this.battleScrollBar=cc.find(COMPONENT_PATH.BATTLE_SCROLLBAR),this.administratorScrollBar=cc.find(COMPONENT_PATH.ADMINISTRATOR_SCROLLBAR),this.startMenu=cc.find(COMPONENT_PATH.START_MENU),this.rmenuStartButton=cc.find(COMPONENT_PATH.RMENUSTART_BUTTON).getComponent(cc.Button),this.rmenuStartButton.node.on("touchend",this.goStartToTeaching,this),this.lmenuStartButton=cc.find(COMPONENT_PATH.LMENUSTART_BUTTON).getComponent(cc.Button),this.lmenuStartButton.node.on("touchend",this.goStartToBattle,this),this.gameStartButton=cc.find(COMPONENT_PATH.GAMESTART_BUTTON).getComponent(cc.Button),this.gameStartButton.node.on("touchend",this.goStartToScreen,this),this.gameTeaching=cc.find(COMPONENT_PATH.GAME_TEACHING),this.rmenuTeaching=cc.find(COMPONENT_PATH.RMENUSTEACHING_BUTTON).getComponent(cc.Button),this.rmenuTeaching.node.on("touchend",this.goTeachingToBattle,this),this.lmenuTeaching=cc.find(COMPONENT_PATH.LMENUSTEACHING_BUTTON).getComponent(cc.Button),this.lmenuTeaching.node.on("touchend",this.goTeachingToStart,this),this.teachingStartButton=cc.find(COMPONENT_PATH.TEACHINGSTART_BUTTON).getComponent(cc.Button),this.teachingStartButton.node.on("touchend",this.goTeachingToScreen,this),this.battleRecord=cc.find(COMPONENT_PATH.BATTLE_RECORD),this.rmenuBattle=cc.find(COMPONENT_PATH.RMENUSBATTLE_BUTTON).getComponent(cc.Button),this.rmenuBattle.node.on("touchend",this.goBattleToStart,this),this.lmenuBattle=cc.find(COMPONENT_PATH.LMENUSBATTLE_BUTTON).getComponent(cc.Button),this.lmenuBattle.node.on("touchend",this.goBattleToTeaching,this),this.battleStartButton=cc.find(COMPONENT_PATH.BATTLESTART_BUTTON).getComponent(cc.Button),this.battleStartButton.node.on("touchend",this.goBattleToScreen,this),this.idScreen=cc.find(COMPONENT_PATH.ID_SCREEN),this.nicknameBox=cc.find(COMPONENT_PATH.NICKNAME_BOX).getComponent(cc.EditBox),this.screenStartButton=cc.find(COMPONENT_PATH.SCREENSTART_BUTTON).getComponent(cc.Button),this.screenStartButton.node.on("touchend",this.goScreenToMapAssign,this),this.bgMusic=cc.find(COMPONENT_PATH.BG_MUSIC).getComponent(cc.AudioSource)},init:function(){this.assignComponent(),this.bgMusic.play()},onLoad:function(){},start:function(){this.init(),this.closeAllWindow(),this.openStartMenu()}}),cc._RF.pop()},{"./models/Player.js":"Player","./models/area.js":"area"}],area:[function(t,e,n){"use strict";cc._RF.push(e,"d3b7cKWGilOE6ECpU8Kecp0","area"),n.__esModule=!0,n.default=void 0;var a=function(){var t;return{getInstance:function(){var e,n;return t||(n=[{id:0,name:"\u5317\u4eac",camp:"\u5c08\u5236\u9663\u71df",flag:"sprites/UI2/icn_ChinaFlag",chat_flag:"sprites/UI2/Icn_DialogueRecordFlag_ch",hp:0},{id:1,name:"\u4e0a\u6d77",camp:"\u5c08\u5236\u9663\u71df",flag:"sprites/UI2/icn_ChinaFlag",chat_flag:"sprites/UI2/Icn_DialogueRecordFlag_ch",hp:0},{id:2,name:"\u5ee3\u6771",camp:"\u5c08\u5236\u9663\u71df",flag:"sprites/UI2/icn_ChinaFlag",chat_flag:"sprites/UI2/Icn_DialogueRecordFlag_ch",hp:0},{id:3,name:"\u6df1\u5733",camp:"\u5c08\u5236\u9663\u71df",flag:"sprites/UI2/icn_ChinaFlag",chat_flag:"sprites/UI2/Icn_DialogueRecordFlag_ch",hp:0},{id:4,name:"\u9999\u6e2f",camp:"\u6c11\u4e3b\u9663\u71df",flag:"sprites/UI2/icn_HongKongFlag",chat_flag:"sprites/UI2/Icn_DialogueRecordFlag_hk",hp:0},{id:5,name:"\u53f0\u7063",camp:"\u6c11\u4e3b\u9663\u71df",flag:"sprites/UI2/icn_TaiwenFlag",chat_flag:"sprites/UI2/Icn_DialogueRecordFlag_tw",hp:0}],t={get area(){return e},set area(t){e=n[t]},get name(){return e.name},set name(t){e.name=t},getAreaIDByName:function(t){for(var e=0;e<n.length;e++)if(t=(t=t.replace("<b>","")).replace("</b>",""),console.log(t),t==n[e].name)return n[e].id;return null},getHPByNumber:function(t){return n[t].hp},updateHP:function(t){for(var e=0;e<t.length;e++)n[e].hp=t[e].hp},setHP:function(t,e){n[t].hp=e},getHPBYPercentage:function(t){var e,a=0;if(e=n[t].hp,t<4){if(e>CONST_DATA.A_LIGHT_HP){var o=e-CONST_DATA.A_LIGHT_HP;e=CONST_DATA.A_LIGHT_HP,a=o*CONST_DATA.A_EXCESS_HP_TEXT_MULTIPLICAND}a+=e*CONST_DATA.A_HP_TEXT_MULTIPLICAND}else a=e*CONST_DATA.D_HP_TEXT_MULTIPLICAND;return Math.floor(a)},getHPList:function(){for(var t=[],e=0;e<n.length;e++)t.push(n[e].hp);return t},getNameList:function(){for(var t=[],e=0;e<n.length;e++)t.push(n[e].name);return t}}),t}}}().getInstance();n.default=a,e.exports=n.default,cc._RF.pop()},{}],globals:[function(t,e){"use strict";cc._RF.push(e,"e0df4F8nVVOfqGU2xz46zmk","globals"),window.COMPONENT_PATH={FRM_MAIN_UI:"Canvas/_UIController/MainScreen/fm_Main/frm_MainUI",MAP_WINDOW:"Canvas/_UIController/MapLayout",MAPASSIGN_WINDOW:"Canvas/_UIController/MapAssignLayout",MAIN_SCREEN_WINDOW:"Canvas/_UIController/MainScreen",CONFIRM_FRAME:"Canvas/_UIController/MapLayout/frm_Windows",RECORD_FRAME:"Canvas/_UIController/MainScreen/fm_Main/frm_Record",LOGIN_BUTTON:"Canvas/_UIController/LoginLayout/frm_loginWindows/btn_Login",NEWLOGIN_BUTTON:"Canvas/_UIController/LoginNewLayout/fm_Windows/btn_Ok",GAME_START_BUTTON:"Canvas/_UIController/MapAssignLayout/btn_GameStart",CHOOSE_BUTTON:"Canvas/_UIController/MapAssignLayout/btn_ChooseByYourself",TAIWAN_BUTTON:"Canvas/_UIController/MapLayout/Icn_map/btn_Taiwan",BEIJING_BUTTON:"Canvas/_UIController/MapLayout/Icn_map/btn_Beijing",SHANGHAI_BUTTON:"Canvas/_UIController/MapLayout/Icn_map/btn_Shanghai",GAUNGDONG_BUTTON:"Canvas/_UIController/MapLayout/Icn_map/btn_Guangdong",SHENZHEN_BUTTON:"Canvas/_UIController/MapLayout/Icn_map/btn_Shenzhen",HONGKONG_BUTTON:"Canvas/_UIController/MapLayout/Icn_map/btn_HongKong",MS_TAIWAN_BUTTON:"Canvas/_UIController/MainScreen/fm_Main/Icn_map/btnTaiwan_Container/btn_Taiwan",MS_BEIJING_BUTTON:"Canvas/_UIController/MainScreen/fm_Main/Icn_map/btnBeijing_Container/btn_Beijing",MS_SHANGHAI_BUTTON:"Canvas/_UIController/MainScreen/fm_Main/Icn_map/btnShanghai_Container/btn_Shanghai",MS_GAUNGDONG_BUTTON:"Canvas/_UIController/MainScreen/fm_Main/Icn_map/btnGuangdong_Container/btn_Guangdong",MS_SHENZHEN_BUTTON:"Canvas/_UIController/MainScreen/fm_Main/Icn_map/btnShenzhen_Container/btn_Shenzhen",MS_HONGKONG_BUTTON:"Canvas/_UIController/MainScreen/fm_Main/Icn_map/btnHongKong_Container/btn_HongKong",ML_AREA_NAME:"Canvas/_UIController/MapLayout/frm_Windows/Title/area_name",MS_TW_AREAHP:"Canvas/_UIController/MainScreen/fm_Main/Icn_map/btnTaiwan_Container/frm_AreaHP",MS_BJ_AREAHP:"Canvas/_UIController/MainScreen/fm_Main/Icn_map/btnBeijing_Container/frm_AreaHP",MS_SH_AREAHP:"Canvas/_UIController/MainScreen/fm_Main/Icn_map/btnShanghai_Container/frm_AreaHP",MS_GD_AREAHP:"Canvas/_UIController/MainScreen/fm_Main/Icn_map/btnGuangdong_Container/frm_AreaHP",MS_SZ_AREAHP:"Canvas/_UIController/MainScreen/fm_Main/Icn_map/btnShenzhen_Container/frm_AreaHP",MS_HK_AREAHP:"Canvas/_UIController/MainScreen/fm_Main/Icn_map/btnHongKong_Container/frm_AreaHP",AUTHORITARIAN_HP:"Canvas/_UIController/MainScreen/fm_Main/frm_AuthoritarianCampHP",DEMOCRATIC_HP:"Canvas/_UIController/MainScreen/fm_Main/frm_DemocraticCampHP",MS_TIMER_LABEL:"Canvas/_UIController/MainScreen/fm_Main/Administrator_Container/Timer",CONFIRM_BUTTON:"Canvas/_UIController/MapLayout/frm_Windows/btn_Confirm",CANCEL_BUTTON:"Canvas/_UIController/MapLayout/frm_Windows/btn_Cancel",SEND_BUTTON:"Canvas/_UIController/MainScreen/fm_Main/frm_MainUI/btn_SendaMessage/button",ATTACK_BUTTON:"Canvas/_UIController/MainScreen/fm_Main/frm_MainUI/btn_Attack/button",SUPPLY_BUTTON:"Canvas/_UIController/MainScreen/fm_Main/frm_MainUI/btn_Supply/button",RECORD_OFF:"Canvas/_UIController/MainScreen/fm_Main/frm_Record/btn_RecordSwtch_off",RECORD_ON:"Canvas/_UIController/MainScreen/fm_Main/btn_RecordSwtch_on",AREA_LABEL:"Canvas/_UIController/MapAssignLayout/area_name",CAMP_LABEL:"Canvas/_UIController/MapAssignLayout/camp_name",BULLET_LABEL:"Canvas/_UIController/MainScreen/fm_Main/frm_MainUI/Icn_Bullet/label",LABEL_NODE:"Canvas/Label Node",TYPING_CD:"Canvas/_UIController/MainScreen/fm_Main/frm_MainUI/typingCD",CHAT_BUTTON:"Canvas/_UIController/MainScreen/fm_Main/frm_Record/btn_Chat",BATTLE_BUTTON:"Canvas/_UIController/MainScreen/fm_Main/frm_Record/btn_Battle",ADMINISTRATOR_BUTTON:"Canvas/_UIController/MainScreen/fm_Main/frm_Record/btn_Administrator",MS_BATTLE_CONTENT:"Canvas/_UIController/MainScreen/fm_Main/frm_Record/battle_room/view/content",ADMINISTRATOR_CONTENT:"Canvas/_UIController/MainScreen/fm_Main/frm_Record/administrator_room/view/content",CHATROOM_CONTENT:"Canvas/_UIController/MainScreen/fm_Main/frm_Record/chat_room/view/content",BATTLE_CONTENT:"Canvas/_UIController/BattleRecord/bg_SecondaryMenu/scrollview/view/content",CHAT_SCROLLBAR:"Canvas/_UIController/MainScreen/fm_Main/frm_Record/chat_room",BATTLE_SCROLLBAR:"Canvas/_UIController/MainScreen/fm_Main/frm_Record/battle_room",ADMINISTRATOR_SCROLLBAR:"Canvas/_UIController/MainScreen/fm_Main/frm_Record/administrator_room",AREA_MAP_IMG:"Canvas/_UIController/MapAssignLayout/map",AREA_FLAG_IMG:"Canvas/_UIController/MapAssignLayout/flag",INPUT_BOX:"Canvas/_UIController/MainScreen/fm_Main/frm_MainUI/inputbox",TOGGLE_SWITCH:"Canvas/_UIController/MainScreen/fm_Main/frm_MainUI/switch_Toggle",START_MENU:"Canvas/_UIController/StartMenu",RMENUSTART_BUTTON:"Canvas/_UIController/StartMenu/bg_StartMenu/btn_MenuSwitch_Right_Multiply",LMENUSTART_BUTTON:"Canvas/_UIController/StartMenu/bg_StartMenu/btn_MenuSwitch_Left_Multiply",GAMESTART_BUTTON:"Canvas/_UIController/StartMenu/bg_StartMenu/btn_GameStart_A",GAME_TEACHING:"Canvas/_UIController/GameTeaching",RMENUSTEACHING_BUTTON:"Canvas/_UIController/GameTeaching/bg_SecondaryMenu/btn_MenuSwitch_Right_Multiply",LMENUSTEACHING_BUTTON:"Canvas/_UIController/GameTeaching/bg_SecondaryMenu/btn_MenuSwitch_Left_Multiply",TEACHINGSTART_BUTTON:"Canvas/_UIController/GameTeaching/bg_SecondaryMenu/btn_GameStart_A",BATTLE_RECORD:"Canvas/_UIController/BattleRecord",RMENUSBATTLE_BUTTON:"Canvas/_UIController/BattleRecord/bg_SecondaryMenu/btn_MenuSwitch_Right_Multiply",LMENUSBATTLE_BUTTON:"Canvas/_UIController/BattleRecord/bg_SecondaryMenu/btn_MenuSwitch_Left_Multiply",BATTLESTART_BUTTON:"Canvas/_UIController/BattleRecord/bg_SecondaryMenu/btn_GameStart_A",ID_SCREEN:"Canvas/_UIController/IDScreen",FRM_MAIN:"Canvas/_UIController/MainScreen/frm_Main",NICKNAME_BOX:"Canvas/_UIController/IDScreen/bg_SecondaryMenu/inputbox",SCREEN_BUTTON:"Canvas/_UIController/IDScreen/bg_SecondaryMenu/btn_GameStart_A",SCREENSTART_BUTTON:"Canvas/_UIController/IDScreen/bg_SecondaryMenu/btn_A",START_CONTENT:"Canvas/_UIController/StartMenu/bg_StartMenu/right_scrollview/view/content",MS_BATTLE_RECORD_LABEL:"Canvas/_UIController/MainScreen/fm_Main/frm_Record/battle_room/view/content/label",BATTLE_RECORD_LABEL:"Canvas/_UIController/BattleRecord/bg_SecondaryMenu/scrollview/view/content/item",ADMINISTRATOR_PANEL:"Canvas/_UIController/MainScreen/fm_Main/Administrator_Container/AdministratorPanel",ADMINISTRATOR_SAVED_LABEL:"Canvas/_UIController/MainScreen/fm_Main/frm_Record/administrator_room/view/content/label",ANNOUNCEMENT_LABEL:"Canvas/_UIController/StartMenu/bg_StartMenu/right_scrollview/view/content/item",PLAYER_COUNT:"Canvas/_UIController/playerLabel/playerCount",INSTANT_MESSAGE:"Canvas/_UIController/MainScreen/fm_Main/InstantMessagePanel/InstantMessage_Label",INSTANT_PANEL:"Canvas/_UIController/MainScreen/fm_Main/InstantMessagePanel",ATTACKFIRE_SOUND:"Canvas/_UIController/MainScreen/fm_Main/se_AttackFire",AREADEATH_SOUND:"Canvas/_UIController/MainScreen/fm_Main/se_AreaDeath",SEND_SOUND:"Canvas/_UIController/MainScreen/fm_Main/se_Button",BG_MUSIC:"Canvas/_UIController/bgSound"},window.CONST_DATA={DCAMP_LIGHT_HP:4e3,DCAMP_DARK_HP:8e3,DCAMP_TEXT_MULTIPLICAND:.025,DCAMP_IMAGE_MULTIPLICAND:25e-5,ACAMP_LIGHT_HP:16e3,ACAMP_DARK_HP:18e3,ACAMP_TEXT_MULTIPLICAND:.00625,ACAMP_EXCESS_TEXT_MULTIPLICAND:.05,ACAMP_IMAGE_MULTIPLICAND:625e-7,ACAMP_EXCESS_IMAGE_MULTIPLICAND:5e-4,D_LIGHT_HP:2e3,D_DARK_HP:4e3,D_HP_TEXT_MULTIPLICAND:.05,D_HP_IMAGE_MULTIPLICAND:5e-4,A_LIGHT_HP:4e3,A_DARK_HP:4500,A_HP_TEXT_MULTIPLICAND:.025,A_EXCESS_HP_TEXT_MULTIPLICAND:.2,A_HP_IMAGE_MULTIPLICAND:25e-5,A_EXCESS_HP_IMAGE_MULTIPLICAND:.002,RESET_BULLET:0,INIT_BULLET:50,MAX_BULLET:100,0:"win",1:"loss",2:"flat"},window.CONST_STRING={UNABLE_ATTACK_REPLENISH:"\u4f11\u6230\u6642\u7121\u6cd5\u653b\u64ca\u6216\u88dc\u7d66\u3002",BEGINING_OF_WAR:"\u6230\u722d\u958b\u59cb\u4e86\uff01",END_OF_WAR:"\u6230\u722d\u7d50\u675f\u3002",AREA_:"\u5340\u57df-",KILLED:"\u5df2\u9663\u4ea1\u3002",AREA_KILLED:"\u8a72\u5730\u5340\u5df2\u9663\u4ea1\u3002",NO_BULLETS:"\u4f60\u6c92\u6709\u5f48\u85e5\u4e86\uff0c\n\u8acb\u591a\u591a\u558a\u8a71\u4f86\u589e\u52a0\u5f48\u85e5\u3002"},window.SPRITE={BACKGROUND_WHITE:"sprites/UI2/icn_PopupCommons_B_SoftLight",BACKGROUND_BLACK:"sprites/UI2/icn_PopupCommons_A_Multiply",ICN_AREA:"sprites/UI2/icn_Area",ICN_AREA_TARGET:"sprites/UI2/icn_AreaTarget"},window.IP_ADDRESS="13.76.209.137:3000",window.IS_WAR_TIME=!1,cc._RF.pop()},{}],"use_v2.1-2.2.1_cc.Toggle_event":[function(t,e){"use strict";cc._RF.push(e,"550bcwPG7pP3Zi9gfmXXwPw","use_v2.1-2.2.1_cc.Toggle_event"),cc.Toggle&&(cc.Toggle._triggerEventInScript_isChecked=!0),cc._RF.pop()},{}]},{},["use_v2.1-2.2.1_cc.Toggle_event","Bullet","Client","GameManager","LabelController","MainScreenLayout","MapAssignLayout","StartMenu","SupplyEffect","UiController","globals","Camp","Player","area"]);